# vim: ft=make

OPENVR_DIR     ?= ./openvr
OPENVR_LIBRARY ?= $(OPENVR_DIR)/bin/linux64/libopenvr_api.so

LIBRARIES += $(OPENVR_LIBRARY)

openvr: $(OPENVR_LIBRARY)

$(OPENVR_LIBRARY):
	cd $(OPENVR_DIR)/ && \
		cmake . && \
		$(MAKE) -j$(shell nproc)

deepclean::
	cd $(OPENVR_DIR)/ && $(MAKE) clean

LDLIBS += $(OPENVR_LIBRARY)
CFLAGS += -I$(OPENVR_DIR)/headers

