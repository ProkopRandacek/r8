# vim: ft=make

RAYLIB_DIR     ?= ./raylib
RAYLIB_LIBRARY ?= $(RAYLIB_DIR)/libraylib.a

LIBRARIES += $(RAYLIB_LIBRARY)

raylib: $(RAYLIB_LIBRARY)

$(RAYLIB_LIBRARY):
	cd $(RAYLIB_DIR)/src && $(MAKE) \
		PLATFORM=PLATFORM_DESKTOP \
		RAYLIB_LIBTYPE=STATIC \
		HOST_PLATFORM_OS=LINUX \
		RAYLIB_MODULE_AUDIO=FALSE \
		RAYLIB_MODULE_MODELS=FALSE \
		RAYLIB_MODULE_RAYGUI=FALSE \
		RAYLIB_MODULE_PHYSAC=FALSE \
		-j$(shell nproc)

deepclean::
	cd $(RAYLIB_DIR)/src && $(MAKE) clean

LDLIBS += $(RAYLIB_LIBRARY)
CFLAGS += -I$(RAYLIB_DIR)/src/

