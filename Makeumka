# vim: ft=make

UMKA_DIR     ?= ./umka-lang
UMKA_LIBRARY ?= $(UMKA_DIR)/build/libumka.a

LIBRARIES += $(UMKA_LIBRARY)

umka: $(UMKA_LIBRARY)

$(UMKA_LIBRARY):
	cd $(UMKA_DIR)/ && $(MAKE) static -j$(shell nproc)

deepclean::
	cd $(UMKA_DIR)/ && $(MAKE) clean

LDLIBS += $(UMKA_LIBRARY)
CFLAGS += -I$(UMKA_DIR)/build/include

